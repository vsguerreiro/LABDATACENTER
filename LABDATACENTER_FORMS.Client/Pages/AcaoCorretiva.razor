@page "/AcaoCorretiva"

@inject FormReclamacoesDataService formReclamacoesDataService
@inject ISnackbar Snackbar

<PageTitle>AcaoCorretiva</PageTitle>

<MudPaper HtmlTag="h1" Elevation="2" Class="mt-10 pa-4 mud-paper-header">
    <MudText Typo="Typo.h2" Align="Align.Center">4. Ação Corretiva</MudText>
</MudPaper>

<MudPaper Elevation="2" Class="bg-white pa-4 mt-8">

    <MudForm @ref="form" Model="@formReclamacoesData">

        <MudTable Class="d-flex mt-10" Items="@formDataList" Hover="true" Breakpoint="Breakpoint.Sm" Striped="true">
            <HeaderContent>
                <MudTh>Descrição</MudTh>
                <MudTh>Responsável pela análise</MudTh>
                <MudTh>Prazo</MudTh>
                <MudTh>Data Fecho</MudTh>
            </HeaderContent>
            <RowTemplate Context="formReclamacoesData">
                <MudTd DataLabel="Descrição">@formReclamacoesData.DescricaoTratamento</MudTd>
                <MudTd DataLabel="Responsável pela análise">@formReclamacoesData.ResponsavelTratamento</MudTd>
                <MudTd DataLabel="Prazo">@formReclamacoesData.PrazoTratamento</MudTd>
                <MudTd DataLabel="Data Fecho">@formReclamacoesData.DataFechoTratamento</MudTd>
            </RowTemplate>
        </MudTable>
        <MudPaper Elevation="0" Class="mt-10 pa-4 mud-paper-outline" Outlined="true">
            <MudText Class="pb-4" Style="color: gray" Typo="Typo.body1">Necessidade de revisão da Matriz</MudText>
            <MudSelect Class="d-flex" T="string" @bind-Value="formReclamacoesData.NecessidadeRevisao" Variant="Variant.Outlined"
                    Label="" AnchorOrigin="Origin.BottomCenter" Required="true" Placeholder="Escolher resposta">
                <MudSelectItem Value="@("Não é necessário")" />
                <MudSelectItem Value="@("IPACR (SST)")" />
                <MudSelectItem Value="@("IAAIA (Amb.)")" />
                <MudSelectItem Value="@("Riscos/ Oportunidades IOE (SGQ)")" />
            </MudSelect>
            <MudTextField Class="d-flex mt-4" @bind-Value="formReclamacoesData.NecessidadeRevisaoObservacoes" Label="Observações"
                        Variant="Variant.Outlined" Lines="4" Placeholder="" />
        </MudPaper>
         <MudPaper Elevation="0" Class="mt-10 pa-4 mud-paper-outline" Outlined="true">
            <MudText Class="pb-4" Style="color: gray" Typo="Typo.body1">Ação Corretiva</MudText>
            <MudSelect Class="d-flex" T="string" @bind-Value="formReclamacoesData.AcaoCorretivaDefinidoPor" Variant="Variant.Outlined"
                       Label="Definido por" AnchorOrigin="Origin.BottomCenter" Required="true">
                <MudSelectItem Value="@("Responsável 1")" />
                <MudSelectItem Value="@("Responsável 2")" />
                <MudSelectItem Value="@("Responsável 3")" />
            </MudSelect>

            <MudDatePicker Class="mt-4" Color="Color.Info" @bind-DateOnly="formReclamacoesData.DataAcaoCorretiva"
                           Label="Data" Required="true" Variant="Variant.Outlined"
                           Editable="false" DateFormat="dd.MM.yyyy" />

            <MudSelect Class="d-flex mt-4" T="string" @bind-Value="formReclamacoesData.CcAcaoCorretiva" Variant="Variant.Outlined"
                       Label="Com CC de:" AnchorOrigin="Origin.BottomCenter" Required="true">
                <MudSelectItem Value="@("Responsável 1")" />
                <MudSelectItem Value="@("Responsável 2")" />
                <MudSelectItem Value="@("Responsável 3")" />
            </MudSelect>
        </MudPaper>
        <MudPaper Elevation="0" Class="mt-10 pa-4 mud-paper-outline" Outlined="true">
            <MudText Class="pb-4" Style="color: gray" Typo="Typo.body1">Aprovado</MudText>
            <MudSelect Class="d-flex" T="string" @bind-Value="formReclamacoesData.AcaoCorretivaAprovado" Variant="Variant.Outlined"
                       Label="Definido por" AnchorOrigin="Origin.BottomCenter" Required="true">
                <MudSelectItem Value="@("Responsável 1")" />
                <MudSelectItem Value="@("Responsável 2")" />
                <MudSelectItem Value="@("Responsável 3")" />
            </MudSelect>

            <MudDatePicker Class="mt-4" Color="Color.Info" @bind-DateOnly="formReclamacoesData.DataAcaoCorretivaAprovado"
                           Label="Data" Required="true" Variant="Variant.Outlined"
                           Editable="false" DateFormat="dd.MM.yyyy" />

            <MudSelect Class="d-flex mt-4" T="string" @bind-Value="formReclamacoesData.CcAcaoCorretivaAprovado" Variant="Variant.Outlined"
                       Label="Com CC de:" AnchorOrigin="Origin.BottomCenter" Required="true">
                <MudSelectItem Value="@("Responsável 1")" />
                <MudSelectItem Value="@("Responsável 2")" />
                <MudSelectItem Value="@("Responsável 3")" />
            </MudSelect>
        </MudPaper>
        <MudPaper Elevation="0" Class="mt-10 pa-4 mud-paper-outline" Outlined="true">
            <MudText Class="pb-4" Style="color: gray" Typo="Typo.body1">Acompanhamento e verificação da implementação</MudText>
            <MudTextField Class="d-flex mt-4" @bind-Value="formReclamacoesData.AcompanhamentoObservacoes" Label="Observações"
                          Variant="Variant.Outlined" Lines="4" Placeholder="" />
            <MudSelect Class="d-flex mt-10" T="string" @bind-Value="formReclamacoesData.AcompanhamentoResponsavel" Variant="Variant.Outlined"
                       Label="Responsável pela análise" AnchorOrigin="Origin.BottomCenter" Required="true" Placeholder="Seleção de nome ou email">
                <MudSelectItem Value="@("Responsável 1")" />
                <MudSelectItem Value="@("Responsável 2")" />
                <MudSelectItem Value="@("Responsável 3")" />
            </MudSelect>
            <MudDatePicker Label="Prazo" Class="d-flex mt-4" @bind-Date="formReclamacoesData.PrazoAcompanhamento" Variant="Variant.Outlined"
                           Required="false"></MudDatePicker>
            <MudSelect Class="d-flex mt-4" T="string" @bind-Value="formReclamacoesData.CcAcompanhamento" Variant="Variant.Outlined"
                       Label="Com CC de:" AnchorOrigin="Origin.BottomCenter" Required="true">
                <MudSelectItem Value="@("Responsável 1")" />
                <MudSelectItem Value="@("Responsável 2")" />
                <MudSelectItem Value="@("Responsável 3")" />
            </MudSelect>



        </MudPaper>

    </MudForm>

    <MudButton Class="d-flex mt-10 mb-6" Variant="Variant.Filled" OnClick="HandleSubmit"
               Color="Color.Success" FullWidth="true">Submeter</MudButton>




</MudPaper>